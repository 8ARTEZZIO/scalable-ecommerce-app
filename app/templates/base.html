<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tree</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles.css')}}">
    <script>
        document.addEventListener('DOMContentLoaded', () => {
          const el = document.getElementById('search-input');
          if (!el) return;

          let phrases;
          try { phrases = JSON.parse(el.dataset.phrases || '[]'); } catch { phrases = []; }
          if (!phrases.length) phrases = ["Wireless Headphones","Laptop Stand","Ceramic Mug","Running Shoes","LED Desk Lamp","Yoga Mat","Mechanical Keyboard"];

          for (let i = phrases.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [phrases[i], phrases[j]] = [phrases[j], phrases[i]];
          }

          let p = 0, c = 0, dir = 1, paused = false, timer;
          function step() {
            if (paused) { timer = setTimeout(step, 200); return; }
            const text = phrases[p];
            c += dir;
            el.placeholder = text.slice(0, Math.max(0, c));
            const typeSpeed = 70, deleteSpeed = 35, holdFull = 1100, holdEmpty = 250;
            if (dir > 0 && c >= text.length) { dir = -1; timer = setTimeout(step, holdFull); }
            else if (dir < 0 && c <= 0) { dir = 1; p = (p + 1) % phrases.length; timer = setTimeout(step, holdEmpty); }
            else { timer = setTimeout(step, dir > 0 ? typeSpeed : deleteSpeed); }
          }
          el.addEventListener('focus', () => { paused = true; });
          el.addEventListener('blur', () => { paused = false; });
          el.addEventListener('input', () => { if (el.value) el.placeholder = ''; });
          window.addEventListener('beforeunload', () => clearTimeout(timer));
          step();
        });
    </script>


</head>

<body class="d-flex flex-column min-vh-100">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
<header class="p-3 text-bg-dark frosted header-blur">
    <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"><a href="/"
                                                                                                        class="d-flex align-items-center mb-2 mb-lg-2 text-white text-decoration-none">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#5cb85c" class="bi bi-tree"
             viewBox="0 0 16 16">
            <path d="M8.416.223a.5.5 0 0 0-.832 0l-3 4.5A.5.5 0 0 0 5 5.5h.098L3.076 8.735A.5.5 0 0 0 3.5 9.5h.191l-1.638 3.276a.5.5 0 0 0 .447.724H7V16h2v-2.5h4.5a.5.5 0 0 0 .447-.724L12.31 9.5h.191a.5.5 0 0 0 .424-.765L10.902 5.5H11a.5.5 0 0 0 .416-.777zM6.437 4.758A.5.5 0 0 0 6 4.5h-.066L8 1.401 10.066 4.5H10a.5.5 0 0 0-.424.765L11.598 8.5H11.5a.5.5 0 0 0-.447.724L12.69 12.5H3.309l1.638-3.276A.5.5 0 0 0 4.5 8.5h-.098l2.022-3.235a.5.5 0 0 0 .013-.507"/>
        </svg>
    </a>
        <ul class="nav col-12 col-lg-auto me-lg-auto mb-1 justify-content-center mb-md-0">
            <li><a href="{{ url_for("api.features") }}" class="nav-link px-2 text-white">Features</a></li>
            <li><a href="#" class="nav-link px-2 text-white">Pricing</a></li>
            <li><a href="#" class="nav-link px-2 text-white">About</a></li>
        </ul>
        <div class="text-end">
            {% if not current_user.is_authenticated %}
                <button onclick="location.href='{{url_for('api.login')}}'" type="button" class="btn btn-outline-light me-2">Login</button>
                <button onclick="location.href='{{url_for('api.register')}}'" type="button" class="btn btn-success">Sign-up</button>
            {% else %}
                <button onclick="location.href='{{url_for('api.logout')}}'" type="button" class="btn btn-success">Logout</button>
            {% endif %}
        </div>
    </div>
</header>

<main class="flex-grow-1">
    {% block content %}{% endblock %}
</main>

<footer class="bg-dark text-white py-2 mt-auto frosted footer-blur">
    <div class="text-center text-body-secondary">
        <span>&copy; {{ year }} <a href="https://github.com/8ARTEZZIO">8ARTEZZIO</a></span>
    </div>
</footer>
</body>
</html>
